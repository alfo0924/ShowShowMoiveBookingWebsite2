<!DOCTYPE html>
<html lang="en,zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOWSHOWMovieBookingWebSite</title>

    <!-- import CDN -->
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body{
            background: rgba(255, 255, 255, 0.96);
        }

        .footer {
            background-color: rgba(255, 255, 255, 0.87);
            color: #090909;
            padding: 50px;
            text-align: center;
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
        }

        .footer p {
            margin: 0;
            color: inherit; /* 保持 footer 文字颜色与父元素一致 */
        }

        .bg-red {
            background-color: #f60000;
        }

        .bg-green {
            background-color: green;
        }

        .bg-blue {
            background-color: blue;
        }

        /* Added class for white text */
        .text-white {
            color: white !important;
        }

        /* 在滑鼠懸停在導覽列按鈕上時產生白光效果 */


        .dark-mode
        {
            /*display: none;*/
            background: #090909;
            color: #f5f5f5;
        }
        .dark-mode footer
        {
            /*display: none;*/
            background: #090909;
            color: #f5f5f5;
        }
        .vintage-mode
        {
            background: #efefa8;
        }
        .vintage-mode footer
        {
            background: #efefa8;
            color:#090909;
            font-weight: 700;
        }
        .imgbg
        {
            background: url('img/webp/webp001.webp') ;
            background-size: 100%;

        }
        .imgbg .footer
        {
            color:rgba(17,17,17); !important;
        }
       .navbar-toggler:hover {
            box-shadow: 0 0 10px 0 rgba(255, 255, 255, 0.7);
        }

    /*movie booking system*/

        .container {

            background: rgba(252, 252, 252, 0.13);
            margin: 300px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
        }

        form {
            margin-bottom: 20px;
        }

        select, button {

            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .screen {
            text-align: center;
            margin-bottom: 20px;
        }

        .seats {
            margin-bottom: 20px;
            text-align: center;
        }

        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .seat {
            width: 35px;
            height: 35px;
            margin: 5px;
            background-color: #e0e0e0;
            border: 1px solid #fff;
            cursor: pointer;
            text-align: center;
        }

        .seat.selected {
            background-color: #f00;
        }

        .seat.randomly-selected {
            background-color: #707070;
        }

        .aisle {
            visibility: hidden;
        }




    </style>
</head>
<body >
<nav class="navbar navbar-light justify-content-end" id="navbar">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
<div class="collapse navbar-collapse justify-content-end" id="navbarToggleExternalContent" data-bs-theme="light">
    <div class=" p-4" id="navbarContent">
        <h5 class="text-body-emphasis h4" id="navbarTitle">SHOWSHOW電影訂票網</h5>
        <span class="text-body-secondary" id="rgbText">RGB</span>
        <span onclick="dm()"> | <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 256 256" xml:space="preserve">
            <defs>
            </defs>
            <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                <circle cx="45" cy="45" r="45" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
            </g>
        </svg> | </span>

        <span onclick="vintage()"><img width="20" height="20" src="https://img.icons8.com/material-outlined/24/FAB005/filled-circle--v1.png" alt="filled-circle--v1"/>| </span>
        <span onclick="imagebackground()"> <img width="24" height="24" src="https://img.icons8.com/material-outlined/24/image.png" alt="image"/> | </span>

        <!-- 新增連結欄位 -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">首頁</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">電影</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">訂票</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">關於我們</a>
            </li>
        </ul>
    </div>
</div>






<div class="container">
    <h1>Movie Booking Interface</h1>

    <form id="bookingForm">
        <label for="movie">Choose a movie:</label>
        <select id="movie" name="movie">
            <option value="movie1">Movie 1</option>
            <option value="movie2">Movie 2</option>
            <option value="movie3">Movie 3</option>
        </select>

        <label for="time">Choose a time:</label>
        <select id="time" name="time">
            <option value="time1">10:00 AM</option>
            <option value="time2">2:00 PM</option>
            <option value="time3">6:00 PM</option>
        </select>

        <label for="combo">Add Combo Package (Drink and Popcorn)?</label>
        <select id="combo" name="combo">
            <option value="no">No Combo</option>
            <option value="small">Small Combo (1 Drink, 1 Popcorn)</option>
            <option value="large">Large Combo (2 Drinks, 1 Popcorn)</option>
        </select>




        <div class="screen"><h2>Screen</h2></div>
        <div class="seats">
            <h2>Seats</h2>
            <!-- Seats will be dynamically generated here -->
        </div>

        <button type="submit">Book Now</button>
        <button type="button" id="clearButton">Clear Selection</button> <!-- Added Clear Selection button -->
    </form>

    <div id="bookingInfo"></div>
</div>





<footer   class="footer" class="dark-mode"  class="vintage-mode";  id="footer" >
    <p>© 2024 SWHOSHOW Movie Booking. All rights reserved.<span>&trade;</span></p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

<script>

    var colors = ['#f60000', 'blue', 'green', '#ffffff','#090909','#efefa8'];
    var currentIndex = 0;
    var rgbText = document.getElementById('rgbText');
    var navbar = document.getElementById('navbar');
    var navbarContent = document.getElementById('navbarContent');
    var footer = document.getElementById('footer');
    var navbarTitle = document.getElementById('navbarTitle');

    rgbText.addEventListener('click', function () {
        // 移除旧的文字颜色类
        document.querySelectorAll('.text-white').forEach(function (item) {
            item.classList.remove('text-white');
        });

        // 改变 navbar 主题的背景色
        navbar.style.backgroundColor = colors[currentIndex];
        // 改变 navbar 内容的背景色
        navbarContent.style.backgroundColor = colors[currentIndex];
        // 改变 footer 背景色
        footer.style.backgroundColor = colors[currentIndex];

        // 根据颜色选择设置不同的字体颜色
        if (colors[currentIndex] === '#ffffff') {
            document.body.style.color = 'black'; // 如果颜色是白色，则设置 body 文字颜色为黑色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-black'); // 添加白色文字的 class
            });
        }
        else if (colors[currentIndex] === '#efefa8') {
            document.body.style.color = '#efefa8'; //
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-black'); // 添加白色文字的 class
            });
        }
        else {
            document.body.style.color = 'white'; // 设置 body 文字颜色为白色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-white'); // 添加白色文字的 class
            });
        }

        // 更新颜色索引
        currentIndex = (currentIndex + 1) % colors.length;
    });

    function dm() {
        var element = document.body;
        var navbar = document.getElementById('navbar');
        var footer = document.getElementById('footer');

        element.classList.toggle("dark-mode");
        navbar.classList.toggle("navbar-light");


        if (element.classList.contains("dark-mode")) {
            document.body.style.color = 'white'; // 设置 body 文字颜色为白色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-white'); // 添加白色文字的 class
            });
        } else {
            document.body.style.color = 'black'; // 设置 body 文字颜色为黑色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.remove('text-white'); // 移除白色文字的 class
            });
        }
    }

    function vintage() {
        var element = document.body;
        var navbar = document.getElementById('navbar');
        var footer = document.getElementById('footer');

        element.classList.toggle("vintage-mode");
        navbar.classList.toggle("navbar-light");
        if (element.classList.contains("vintage-mode")) {
            document.body.style.color = 'black'; // 设置 body 文字颜色为白色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-black'); // 添加白色文字的 class
            });
        } else {
            document.body.style.color = 'black'; // 设置 body 文字颜色为黑色
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.remove('text-white'); // 移除白色文字的 class
            });
        }
    }

    function imagebackground() {
        var element = document.body;
        element.classList.toggle("imgbg");
        if (element.classList.contains("imgbg")) {
            document.body.style.color = 'white'; // 设置 body 文字颜色为白色

            document.querySelectorAll('.navbar-nav .nav-link, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.add('text-white'); // 添加白色文字的 class

                document.querySelectorAll('.footer p').forEach(function (item) {
                    item.classList.add('text-black'); // 添加白色文字的 class
                });
            });
        } else {
            document.body.style.color = 'black'; // 设置 body 文字颜色为黑色
            document.body.style.background = ''; // 移除背景图像
            document.querySelectorAll('.navbar-nav .nav-link, .footer p, #navbarTitle, #rgbText').forEach(function (item) {
                item.classList.remove('text-white'); // 移除白色文字的 class
            });
        }
    }



    //booking system
    document.addEventListener("DOMContentLoaded", function() {
        const form = document.getElementById("bookingForm");
        const bookingInfo = document.getElementById("bookingInfo");
        const seatsContainer = document.querySelector(".seats");

        // Function to generate seats
        function generateSeats() {
            const rows = 10;
            const seatsPerRow = 22; // Add 2 aisles
            const aisleIndex1 = Math.floor(seatsPerRow / 5); // Middle seat index for 1st aisle
            const aisleIndex2 = Math.floor(seatsPerRow / 5) * 4; // Middle seat index for 2nd aisle

            const seatLabels = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; // Labels for seats

            for (let i = 0; i < rows; i++) {
                const rowDiv = document.createElement("div");
                rowDiv.classList.add("row");
                for (let j = 0; j < seatsPerRow; j++) {
                    const seat = document.createElement("div");
                    seat.classList.add("seat");
                    seat.dataset.row = i + 1;
                    seat.dataset.seat = j + 1;
                    const labelIndex = j < 26 ? j : j % 26;
                    const seatLabel = seatLabels[labelIndex] + (i + 1); // Calculate seat label

                    // Add aisle class
                    if (j === aisleIndex1 || j === aisleIndex2) {
                        seat.classList.add("aisle");
                    }

                    seat.textContent = seatLabel; // Set seat label as text content
                    rowDiv.appendChild(seat);
                }
                seatsContainer.appendChild(rowDiv);
            }

            // Add aisle spacer
            const aisleSpacer1 = document.createElement("div");
            aisleSpacer1.classList.add("seat", "aisle");
            seatsContainer.appendChild(aisleSpacer1);

            const aisleSpacer2 = document.createElement("div");
            aisleSpacer2.classList.add("seat", "aisle");
            seatsContainer.appendChild(aisleSpacer2);
        }

        generateSeats();

        // Function to handle form submission
        form.addEventListener("submit", function(event) {
            event.preventDefault();

            const formData = new FormData(form);
            const movie = formData.get("movie");
            const time = formData.get("time");
            const combo = formData.get("combo");
            const selectedSeats = document.querySelectorAll(".seat.selected");
            const selectedSeatLabels = Array.from(selectedSeats).map(seat => seat.textContent); // Extract only seat labels

            let comboPrice = 0;
            if (combo === "small") {
                comboPrice = 50; // Small Combo (1 Drink, 1 Popcorn)
            } else if (combo === "large") {
                comboPrice = 100; // Large Combo (2 Drinks, 1 Popcorn)
            }

            const seatPrice = selectedSeats.length * 220; // Price per seat
            const totalPrice = seatPrice + comboPrice;

            let comboText = "";
            if (combo === "small") {
                comboText = "Small Combo (1 Drink, 1 Popcorn)";
            } else if (combo === "large") {
                comboText = "Large Combo (2 Drinks, 1 Popcorn)";
            } else {
                comboText = "No Combo";
            }

            const bookingDetails = `
                    <h2>Booking Details</h2>
                    <p>Movie: ${movie}</p>
                    <p>Time: ${time}</p>
                    <p>Combo: ${comboText}</p>
                    <p>Selected Seats: ${selectedSeatLabels.join(", ")}</p>
                    <p>Total Price: $${totalPrice}</p>
                `;

            bookingInfo.innerHTML = bookingDetails; // Display selected seat labels only
        });

        // Function to handle seat selection
        seatsContainer.addEventListener("click", function(event) {
            if (event.target.classList.contains("seat")) {
                if (!event.target.classList.contains("randomly-selected")) {
                    event.target.classList.toggle("selected");
                }
            }
        });

        // Function to randomly select some seats
        function randomSeatSelection() {
            const seats = document.querySelectorAll(".seat");

            // Randomly select seats
            for (let i = 0; i < seats.length; i++) {
                if (Math.random() < 0.5 && !seats[i].classList.contains("aisle")) {
                    seats[i].classList.add("randomly-selected");
                }
            }
        }

        // Call randomSeatSelection function when the page loads
        randomSeatSelection();

        // Clear Selection button functionality
        const clearButton = document.getElementById("clearButton");
        clearButton.addEventListener("click", function() {
            const selectedSeats = document.querySelectorAll(".seat.selected");
            selectedSeats.forEach(seat => seat.classList.remove("selected"));
            bookingInfo.innerHTML = ""; // Clear booking info
        });
    });

</script>
</body>
</html>
